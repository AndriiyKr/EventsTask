# üíß WaterTower Simulation (C# Windows Forms)



---

## üóÇ –ó–º—ñ—Å—Ç

- [–û–ø–∏—Å](#–æ–ø–∏—Å)
- [–ö–ª–∞—Å `WaterTower`](#–∫–ª–∞—Å-watertower)
- [–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å `Pump`](#–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π-–∫–ª–∞—Å-pump)
  - [`ManualPump`](#–∫–ª–∞—Å-manualpump)
  - [`ElectricPump`](#–∫–ª–∞—Å-electricpump)
- [–ö–ª–∞—Å `Consumer`](#–∫–ª–∞—Å-consumer)
- [–ö–ª–∞—Å `MainForm`](#–∫–ª–∞—Å-mainform)
- [–ì—Ä–∞—Ñ—ñ—á–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏](#–≥—Ä–∞—Ñ—ñ—á–Ω—ñ-–µ–ª–µ–º–µ–Ω—Ç–∏)
- [–°–∫—Ä—ñ–Ω—à–æ—Ç–∏ / –î–µ–º–æ](#—Å–∫—Ä—ñ–Ω—à–æ—Ç–∏--–¥–µ–º–æ)

---

## üß† –û–ø–∏—Å

–£ —Ü—å–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —Å–∏–º—É–ª—è—Ü—ñ—é —Ä–æ–±–æ—Ç–∏ –≤–æ–¥–æ–Ω–∞–ø—ñ—Ä–Ω–æ—ó –≤–µ–∂—ñ –∑ –¥–≤–æ–º–∞ —Ç–∏–ø–∞–º–∏ –ø–æ–º–ø (—Ä—É—á–Ω–∞ —Ç–∞ –µ–ª–µ–∫—Ç—Ä–∏—á–Ω–∞) —Ç–∞ –∫—ñ–ª—å–∫–æ–º–∞ —Å–ø–æ–∂–∏–≤–∞—á–∞–º–∏. –í—Å—ñ –æ–±'—î–∫—Ç–∏ –≤–∏–≤–æ–¥—è—Ç—å—Å—è –≥—Ä–∞—Ñ—ñ—á–Ω–æ –Ω–∞ —Ñ–æ—Ä–º—ñ Windows Forms, –∑—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è–º –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π, —Å—Ç–∞–Ω—ñ–≤ —Ç–∞ –∑–º—ñ–Ω–∏ –∫–æ–ª—å–æ—Ä—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ.

üìå *–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ –ª–æ–≥—ñ–∫–∏ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ —É —Ñ–∞–π–ª—ñ `Program1.cs`.*

---

## üèó –ö–ª–∞—Å `WaterTower`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –º–æ–¥–µ–ª—é—î –≤–µ–∂—É, —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î —Ç–∞ –≤–∏–¥–∞—î –≤–æ–¥—É.

### –ü–æ–ª—è —Ç–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- `CurrentVolume`: –ü–æ—Ç–æ—á–Ω–∏–π –æ–±‚Äô—î–º –≤–æ–¥–∏ *(public get, private set)*.
- `MaxVolume`: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π –æ–±‚Äô—î–º –≤–æ–¥–∏ *(–∑–∞–¥–∞—î—Ç—å—Å—è —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ)*.
- `StateChanged`: –ü–æ–¥—ñ—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞–Ω—É.

### –ú–µ—Ç–æ–¥–∏:

- `Consume(int amount)`: –ó–º–µ–Ω—à—É—î –æ–±‚Äô—î–º, –≤–∏–∫–ª–∏–∫–∞—î `UpdateState()`.
- `AddWater(int amount)`: –î–æ–¥–∞—î –≤–æ–¥—É, –≤–∏–∫–ª–∏–∫–∞—î `UpdateState()`.
- `UpdateState()`: –û–Ω–æ–≤–ª—é—î —Å—Ç–∞–Ω:
  - `Empty` (0%)
  - `Low` (<20%)
  - `Normal` (20-95%)
  - `Full` (‚â•95%)

---

## ‚öôÔ∏è –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å `Pump`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–ø.

### –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- `Position`: –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏.
- `FlowRate`: –®–≤–∏–¥–∫—ñ—Å—Ç—å –ø–æ—Ç–æ–∫—É.
- `IsActive`: –ê–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å *(protected set)*.
- `Status`: –°—Ç–∞—Ç—É—Å –ø–æ–º–ø–∏ ("–ü—Ä–∞—Ü—é—î", "–ù–µ–∞–∫—Ç–∏–≤–Ω–∞", —Ç–æ—â–æ).
- `PumpedWater`: –ü–æ–¥—ñ—è ‚Äî —Å–∫—ñ–ª—å–∫–∏ –ª—ñ—Ç—Ä—ñ–≤ –ø–µ—Ä–µ–¥–∞–Ω–æ.

### –ú–µ—Ç–æ–¥–∏:

- `Update(WaterTowerState state)`: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π.
- `PumpWater()`: –í–∏–∫–ª–∏–∫–∞—î –ø–æ–¥—ñ—é –∑ –ø–µ—Ä–µ–¥–∞—á–µ—é `FlowRate`.

---

### üîß –ö–ª–∞—Å `ManualPump`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –†—É—á–Ω–∞ –ø–æ–º–ø–∞.

- –ê–∫—Ç–∏–≤—É—î—Ç—å—Å—è –ø—Ä–∏ `Low` –∞–±–æ `Empty` —Å—Ç–∞–Ω—ñ.
- –í–∏–∫–ª–∏–∫–∞—î `PumpWater()`, —è–∫—â–æ –∞–∫—Ç–∏–≤–Ω–∞.

---

### ‚ö° –ö–ª–∞—Å `ElectricPump`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ï–ª–µ–∫—Ç—Ä–∏—á–Ω–∞ –ø–æ–º–ø–∞ –∑ –ø–µ—Ä–µ–≥—Ä—ñ–≤–æ–º.

#### –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–ª—è:

- `_overheat`: –†—ñ–≤–µ–Ω—å –ø–µ—Ä–µ–≥—Ä—ñ–≤—É.
- `IsOverheated`: –ß–∏ –ø–µ—Ä–µ–≥—Ä—ñ–ª–∞—Å—å.

#### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:

- –ü–µ—Ä–µ–≥—Ä—ñ–≤–∞—î—Ç—å—Å—è –ø—Ä–∏ 100 –æ–¥–∏–Ω–∏—Ü—è—Ö.
- –ê–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ `Low` –∞–±–æ `Empty` —Å—Ç–∞–Ω—ñ.
- `Overheat()`: –í–∏–º–∏–∫–∞—î –Ω–∞ —á–∞—Å, —Å–∫–∏–¥–∞—î —Ä—ñ–≤–µ–Ω—å –ø–µ—Ä–µ–≥—Ä—ñ–≤—É.

---

## üßç –ö–ª–∞—Å `Consumer`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ú–æ–¥–µ–ª—é—î –±—É–¥–∏–Ω–æ–∫-—Å–ø–æ–∂–∏–≤–∞—á.

### –ü–æ–ª—è:

- `Position`: –ü–æ–∑–∏—Ü—ñ—è –±—É–¥–∏–Ω–∫—É.
- `_tower`: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–µ–∂—É.
- `_consumption`: –ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–ª—è —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è.
- `_canConsume`: –ß–∏ –¥–æ–∑–≤–æ–ª–µ–Ω–æ —Å–ø–æ–∂–∏–≤–∞—Ç–∏ (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å—Ç–∞–Ω—É –≤–µ–∂—ñ).

### –ú–µ—Ç–æ–¥:

- `Update()`: –Ø–∫—â–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ ‚Äî –∑–º–µ–Ω—à—É—î –æ–±'—î–º –≤–æ–¥–∏ —É –≤–µ–∂—ñ.

---

## ü™ü –ö–ª–∞—Å `MainForm`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ì–æ–ª–æ–≤–Ω–∞ —Ñ–æ—Ä–º–∞ –∑ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

### –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–ª—è:

- `_tower`: –í–µ–∂–∞.
- `_pumps`, `_consumers`: –°–ø–∏—Å–∫–∏ –æ–±'—î–∫—Ç—ñ–≤.
- `_simTimer`: –¢–∞–π–º–µ—Ä (1 —Å–µ–∫—É–Ω–¥–∞).
- `_time`: –°–∏–º—É–ª—å–æ–≤–∞–Ω–∏–π —á–∞—Å.
- `_currentState`, `_pumpStatus`, `_waterFlowStatus`: –°—Ç–∞—Ç—É—Å–∏.

### –ö–ª—é—á–æ–≤—ñ –º–µ—Ç–æ–¥–∏:

- `UpdatePumpStatus(Pump pump)`: –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É.
- `UpdateStatusMessages()`: –ü—Ä–∏–º—É—Å–æ–≤–µ –≤–º–∏–∫–∞–Ω–Ω—è/–≤–∏–º–∏–∫–∞–Ω–Ω—è –ø–æ–º–ø.
- `OnPaint`: –ú–∞–ª—é—î –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞ —Ñ–æ—Ä–º—ñ:
  - –ù–µ–±–æ, –∑–µ–º–ª—é, —Ç—Ä—É–±–∏, –≤–µ–∂—É, –ø–æ–º–ø–∏, –±—É–¥–∏–Ω–∫–∏, –ø–∞–Ω–µ–ª—ñ.

---

## üñº –ì—Ä–∞—Ñ—ñ—á–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏

### –í–µ–∂–∞:

- –ü—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫ –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–æ–º (–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ä—ñ–≤–Ω—é –≤–æ–¥–∏).
- –ú–∞—î –¥–∞—Ö —ñ –∫–æ–Ω—Ç—É—Ä–∏.

### –ü–æ–º–ø–∏:

- **–†—É—á–Ω–∞:** –ó–µ–ª–µ–Ω–∞ (–∞–∫—Ç–∏–≤–Ω–∞), —Å—ñ—Ä–∞ (–≤–∏–º–∫–Ω–µ–Ω–∞).
- **–ï–ª–µ–∫—Ç—Ä–∏—á–Ω–∞:** 
  - –Ø—Å–∫—Ä–∞–≤–æ-–∑–µ–ª–µ–Ω–∞ (–∞–∫—Ç–∏–≤–Ω–∞)
  - –ß–µ—Ä–≤–æ–Ω–∞ (–ø–µ—Ä–µ–≥—Ä—ñ—Ç–∞)
  - –°—ñ—Ä–∞ (–≤–∏–º–∫–Ω–µ–Ω–∞)
- –ñ–æ–≤—Ç–∞ –ø—ñ–¥—Å–≤—ñ—Ç–∫–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.

### –ë—É–¥–∏–Ω–∫–∏:

- –ú–∞—é—Ç—å –≤—ñ–∫–Ω–∞, –¥–≤–µ—Ä—ñ, –¥–∞—Ö.
- –†–æ–∑–º—ñ—â—É—é—Ç—å—Å—è –∑–∞ `Position`.

### –ü–∞–Ω–µ–ª—ñ:

- **–õ—ñ–≤–∞:** –ß–∞—Å —Å–∏–º—É–ª—è—Ü—ñ—ó, –æ–±‚Äô—î–º –≤–æ–¥–∏.
- **–ü—Ä–∞–≤–∞:** –°—Ç–∞–Ω –≤–µ–∂—ñ, —Å—Ç–∞—Ç—É—Å–∏ –ø–æ–º–ø.

---
